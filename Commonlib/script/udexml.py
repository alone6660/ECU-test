# -*- coding: utf-8 -*-


if __name__=="__main__":
    import xml.etree.ElementTree as ET

    # 解析XML文件
    # tree = ET.parse(r'C:\Users\huoxingfan\Desktop\TEMP.xml')
    tree = ET.parse(r'C:\Users\huoxingfan\Desktop\TEMP2.xml')
    root = tree.getroot()

    # 获取g_VEHICLE_PARAMETERS_1的Value2字段
    vehicle_params = []

    # 遍历所有ValueItem
    for item in root.findall('.//ValueItem'):
        name = item.find('Name').text
        if name and name.startswith('g_FUNCTIONAL_PARAMETERS_1['):
            value2 = item.find('Value2').text
            if value2:
                # 将十六进制字符串转换为整数
                hex_value = value2.replace('0x', '')
                vehicle_params.append(int(hex_value, 16))

    # 输出结果
    print("g_VEHICLE_PARAMETERS_1数组:")
    print(f"uint8_t g_VEHICLE_PARAMETERS_1[] = {{")
    for i in range(0, len(vehicle_params), 8):
        line = ", ".join(f"0x{val:02X}" for val in vehicle_params[i:i+8])
        print(f"    {line},")
    print("};")

    print(f"\n数组长度: {len(vehicle_params)} 字节")
    print(f"\n数组内容(十六进制): {[f'0x{val:02X}' for val in vehicle_params]}")
    targetnum = [0,0,1,0,232,3,196,9,117,3,117,3,187,0,195,6,195,6,42,48,1,0,0,0,1,0,0,0,0,87,76,78,48,48,49,48,50,50,52,49,50,65,70,90]
    targetnum1 = [128,56,1,0,128,56,1,0,32,161,7,0,32,161,7,0,224,147,4,0,48,87,5,0,160,134,1,0,128,132,30,0,160,15,0,0,160,15,0,0,160,15,0,0,160,15,0,0,160,15,0,0,160,15,0,0,160,15,0,0,136,19,0,0,64,156,0,0,80,0,200,0,32,3,0,252,10,0,10,0,10,0,10,0,20,0,20,0,20,0,20,0,244,1,150,0,128,7,0,18,56,4,174,71,82,56,64,1,0,1,0,1,5,0,1,0,136,19,136,19,152,58,152,58,184,11,100,0,140,0,200,0,50,0,56,255,112,23,112,23,112,23,112,23,200,0,200,0,148,17,148,17,148,17,148,17,200,0,10,0,10,0,10,0,10,0,88,2,88,2,88,2,88,2,80,70,80,70,128,62,128,62,104,66,104,66,152,58,152,58,108,7,108,7,208,7,208,7,192,93,192,93,240,85,240,85,216,89,216,89,8,82,8,82,216,14,216,14,160,15,160,15,132,3,0,60,70,0,64,0,81,0,75,0,76,0,133,0,130,0,130,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,200,0,200,0,112,23,112,23,244,1,188,2,112,254,1,0,156,255,244,1,100,0,200,0,60,0,60,0,30,0,30,0,232,3,32,78,64,156,94,1,32,3,32,3,120,5,8,7,208,7,208,7,200,0,44,1,188,2,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,88,2,88,2,190,0,0,0,4,166,36,244,80,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,1,160,15,52,33,208,7,40,35,232,3,184,11,60,0,0,0,150,0,144,1,232,3,208,7,172,13,112,23,0,0,10,0,90,0,200,0,94,1,188,2,176,4,232,3,16,39,24,21,244,1,184,11,232,3,244,1,70,50,0,0,0,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,32,5,3,6,18,13,15,14,12,13,6,7,26,12,18,13,17,6,18,15,34,13,15,13,15,15,32,10,24,10,32,9,28,15,36,10,28,30,30,3,45,30,10,40,120,3,3,4,4,5,5,4,8,65,5,17,15,18,32,10,36,15,10,32,15,10,3,16,100,0,128,40,90,10,32,8,28,5,0,3,2,12,8,12,28,17,20,6,13,8,35,0,8,30,4,5,11,0,2,8,20,12,40,150,200,5,40,6,36,50,0,9,30,1,100,100,100,100,100,100,100,100,100,3,3,3,3,3,3,3,3,9,96,20,20,20,20,20,20,20,20,20,100,100,100,100,100,100,100,100,100,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,64,64,2,50,12,3,15,4,32,32,10,6,10,6,8,5,8,1,1,8,1,6,6,6,0,0,0,0,0,36,36,17,17,17,17,17,17,17,4,50,5,7,150,150,64,64,64,64,64,64,64,64,64,64,64,64,196,130,158]
    assert targetnum == vehicle_params
    # assert targetnum == vehicle_params
